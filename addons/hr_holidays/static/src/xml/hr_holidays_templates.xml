<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <!--
        This template is the ribbon at the top of the Leaves dashboard that adds
        some figures to it.
    -->
    <t t-name="hr_holidays.HrHolidaysDashboard">
        <div t-if="data" class="o_hr_holidays_dashboard">
            <table class="table table-condensed">
                <tr><td style="width:180%">
                    <table class="table table-condensed">
                        <tr>
                            <td class="o_text o_highlight">
                                My Allocated Leaves
                            </td>
                            <t t-foreach="data.allocated_leaves" t-as="leave_type">
                                <td class="o_main o_dashboard_action" name="hr_holidays.action_create_leave" t-att-data-context="'{&quot;default_holiday_status_id&quot;: ' + leave_type.id + '}'" title="New Leave Request">
                                    <a>
                                        <div class="o_leave_name">
                                            <span><t t-esc="leave_type.virtual_remaining_leaves"/> <t t-esc="leave_type.name"/></span>
                                        </div>
                                         <div t-if="leave_type.next_expiration_date" class="o_leave_expiration">
                                            <span>
                                                <span t-if="leave_type.next_expiration_date &lt; moment().add(1, 'months').format()" class="fa fa-warning"/>
                                                <i><t t-esc="leave_type.next_expiration_amount"/> will expire after <t t-esc="leave_type.next_expiration_date"/></i>
                                            </span>
                                        </div>
                                        <div t-else="" class="o_expiration_date_placeholder"/>
                                    </a>
                                    <div class="fa fa-plus o_hover_plus"/>
                                </td>
                            </t>
                        </tr>
                        <tr>
                            <td class="o_text o_highlight">
                                Other Leaves
                            </td>
                            <t t-foreach="data.limitless_leaves" t-as="leave_type">
                                <td class="o_main o_dashboard_action" name="hr_holidays.action_create_leave" t-att-data-context="'{&quot;default_holiday_status_id&quot;: ' + leave_type.id + '}'" title="New Leave Request">
                                    <a>
                                        <div class="o_leave_name">
                                            <span><t t-esc="leave_type.name"/></span>
                                        </div>
                                        <div t-if="leave_type.leaves_taken">
                                            <t t-esc="leave_type.leaves_taken"/> Taken this year
                                        </div>
                                        <div t-else="" class="o_expiration_date_placeholder"/>
                                    </a>
                                    <div class="fa fa-plus o_hover_plus"/>
                                </td>
                            </t>
                        </tr>
                    </table>
                </td>
                <td class="o_summary o_dashboard_action" name="hr_holidays.open_company_allocation">
                    Leaves Summary
                </td></tr>
            </table>
        </div>
    </t>
</templates>
