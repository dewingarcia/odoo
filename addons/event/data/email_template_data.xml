<?xml version="1.0"?>
<odoo>
    <data noupdate="1">

        <record id="event_registration_mail_template_badge" model="mail.template">
            <field name="name">Event: Registration Badge</field>
            <field name="model_id" ref="event.model_event_registration"/>
            <field name="email_from">${(object.event_id.organizer_id.email or object.event_id.user_id.email or '')|safe}</field>
            <field name="email_to" >${object.partner_id.email or object.email|safe}</field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="subject">Your badge for ${object.event_id.name}</field>
            <field name="auto_delete" eval="True"/>
            <field name="report_template" ref="report_event_registration_badge"/>
            <field name="report_name">badge_of_${(object.event_id.name or '').replace('/','_')}</field>
            <field name="body_html"><![CDATA[
<p>Dear <t t-esc="record.name"/>,</p>
<p>Thank you for your inquiry.</p>
<p>Here is your badge for the event <t t-esc="record.event_id.name"/>.</p>
<p>If you have any questions, please let us know.</p>
<p>Best regards,</p>]]></field>
        </record>

        <record id="event_subscription" model="mail.template">
            <field name="name">Event: Registration</field>
            <field name="model_id" ref="event.model_event_registration"/>
            <field name="email_from">${(object.event_id.organizer_id.email or object.event_id.user_id.email or '')|safe}</field>
            <field name="email_to" >${object.partner_id.email or object.email|safe}</field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="reply_to">${object.event_id.reply_to|safe}</field>
            <field name="subject">Your registration at ${object.event_id.name}</field>
            <field name="body_html"><![CDATA[
<meta charset="utf-8">
<div style="background:#F3F5F6;color:#515166;padding:25px 0px;font-family:Arial,Helvetica,sans-serif;font-size:14px;">
<t t-set="date_begin" t-value="format_tz(record.event_id.date_begin, tz='UTC', format='%Y%m%dT%H%M%SZ')"/>
<t t-set="date_end" t-value="format_tz(record.event_id.date_end, tz='UTC', format='%Y%m%dT%H%M%SZ')"/>
    <table style="width:600px;margin:5px auto;">
        <tbody>
            <tr>
                <td>
                    <a href="/">
                        <img src="/logo" t-att-alt="record.company_id.name" style="vertical-align:baseline;max-width:100px;" />
                    </a>
                </td>
                <td style="text-align:right;vertical-align:middle;">
                    <a t-if="'website_url' in record.event_id and record.event_id.website_url" href="/event" style="text-decoration:none;color:#717188;">More Events</a>
                </td>
            </tr>
        </tbody>
    </table>
    <table style="width:600px;margin:0px auto;background:white;border:1px solid #e1e1e1;">
        <tbody>
            <tr>
                <td style="padding:15px 20px 0px 20px;">
                    <h2 style="font-weight:300;">
                        Hi <t t-esc="record.name"/>, here is your order confirmation for
                        <a t-if="'website_url' in record.event_id and record.event_id.website_url" t-att-href="record.event_id.website_url" style="color:#875A7B;text-decoration:none;" t-esc="record.event_id.name"/>
                        <strong t-if="'website_url' not in record.event_id" t-esc="record.event_id.name"/>
                    </h2>
                </td>
            </tr>
            <tr>
                <td style="padding:15px 20px 0px 20px;">
                    <table style="width:100%;border-top:1px solid #e1e1e1;">
                        <tr>
                            <td style="padding:25px 0px;vertical-align:top;">
                                <img src="/web_editor/font_to_img/61505/rgb(81,81,102)/34" style="padding:4px;max-width:inherit;" height="34">
                            </td>
                            <td style="padding:30px 10px 25px 10px;width:50%;vertical-align:top;">
                                <t t-if="record.event_id.address_id.street">
                                    <p style="margin:0px 0px 0px 0px;"><t t-esc="record.event_id.address_id.street"/>,</p>
                                    <t t-set="location" t-value="record.event_id.address_id.street"/>
                                </t>
                                <t t-if="record.event_id.address_id.street2">
                                    <p style="margin:0px 0px 0px 0px;"><t t-esc="record.event_id.address_id.street2"/>,</p>
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.street2)"/>
                                </t>
                                <t t-if="record.event_id.address_id.city">
                                    <t t-esc="record.event_id.address_id.city"/>,
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.city)"/>
                                </t>
                                <t t-if="record.event_id.address_id.state_id.name">
                                    <t t-esc="record.event_id.address_id.state_id.name"/>,
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.state_id.name)"/>
                                </t>
                                <t t-if="record.event_id.address_id.zip">
                                    <t t-esc="record.event_id.address_id.zip"/>,
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.zip)"/>
                                </t>
                                <t t-if="record.event_id.address_id.country_id.name">
                                    <p style="margin:0px 0px 0px 0px;" t-esc="record.event_id.address_id.country_id.name"/>
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.country_id.name)"/>
                                </t>
                            </td>
                            <td style="padding:25px 0px;vertical-align:top;">
                                <img src="/web_editor/font_to_img/61555/rgb(81,81,102)/34" style="padding:4px;max-width:inherit;" height="34">
                            </td>
                            <td style="padding:25px 10px 25px 10px;width:50%;line-height:20px;vertical-align:top;">
                                <div><strong>From</strong> <t t-esc="record.event_id.date_begin_located"/></div>
                                <div><strong>To</strong> <t t-esc="record.event_id.date_end_located"/></div>
                                <div style="font-size:12px;color:#9e9e9e"><i><strong>TZ</strong> <t t-esc="record.event_id.date_tz"/></i></div>
                            </td>
                        </tr>
                    </table>
                    <table t-if="record.event_id.organizer_id.email" style="width:100%;border-top:1px solid #e1e1e1;">
                        <tr>
                            <td style="padding:10px 0px 25px 0px;">
                                <h2 style="font-weight:300;margin:10px 0px">Questions about this event?</h2>
                                <div>Please contact the organizer at <a t-attf-href="mailto:#{record.event_id.organizer_id.email}" style="text-decoration:none;color:#875A7B;" t-esc="record.event_id.organizer_id.email"/></div>
                            </td>
                        </tr>
                    </table>
                    <table style="width:100%;border-top:1px solid #e1e1e1;">
                        <tr>
                            <td style="padding:25px 0px;">
                                <strong>Add this event to your calendar</strong>
                                <a t-attf-href="https://www.google.com/calendar/render?action=TEMPLATE&text=#{record.event_id.name}&dates=#{date_begin}/#{date_end}&location=#{location}" style="padding:3px 5px;border:1px solid #875A7B;color:#875A7B;text-decoration:none;border-radius:3px;" target="new"><img src="/web_editor/font_to_img/61525/rgb(135,90,123)/16" style="vertical-align:middle;" height="16"> Google</a>
                                <a t-attf-href="https://bay02.calendar.live.com/calendar/calendar.aspx?rru=addevent&summary=#{record.event_id.name}&dtstart=#{date_begin}&dtend=#{date_end}&location=#{location}" style="padding:3px 5px;border:1px solid #875A7B;color:#875A7B;text-decoration:none;border-radius:3px;" target="new"><img src="/web_editor/font_to_img/61525/rgb(135,90,123)/16" style="vertical-align:middle;" height="16"> Outlook</a>
                                <a t-attf-href="https://calendar.yahoo.com/?v=60&view=d&type=20&title=#{record.event_id.name}&in_loc=#{location}&st=#{format_tz(record.event_id.date_begin, tz='UTC', format='%Y%m%dT%H%M%S')}&et=#{format_tz(record.event_id.date_end, tz='UTC', format='%Y%m%dT%H%M%S')}" style="padding:3px 5px;border:1px solid #875A7B;color:#875A7B;text-decoration:none;border-radius:3px;" target="new"><img src="/web_editor/font_to_img/61525/rgb(135,90,123)/16" style="vertical-align:middle;" height="16"> Yahoo</a>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
    <div style="width:598px;margin:0px auto;border-left:1px solid #dddddd;border-right:1px solid #dddddd;border-bottom:1px solid #dddddd;">
        <a t-attf-href="https://maps.google.com/maps?q=#{location}" target="new">
            <img t-attf-src="http://maps.googleapis.com/maps/api/staticmap?autoscale=1&size=598x100&maptype=roadmap&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xa5117d%7Clabel:%7C#{location}" style="vertical-align:bottom;" />
        </a>
    </div>
    <table style="width:600px;margin:0px auto;text-align:center;">
        <tbody>
            <tr>
                <td style="padding-top:10px;font-size: 12px;">
                    <div>This email was sent to <a t-attf-href="mailto:#{record.email}" style="text-decoration:none;color:#875A7B;" t-esc="record.email"/></div>
                    <p style="margin:0px 0px 9px 0px;padding-top:10px;">Copyright © <t t-esc="record.company_id.name"/></p>
                </td>
            </tr>
        </tbody>
    </table>
</div>
            ]]></field>
        </record>

        <record id="event_reminder" model="mail.template">
            <field name="name">Event: Reminder</field>
            <field name="model_id" ref="event.model_event_registration"/>
            <field name="email_from">${(object.event_id.organizer_id.email or object.event_id.user_id.email or '')|safe}</field>
            <field name="email_to" >${object.partner_id.email or object.email|safe}</field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="reply_to">${object.event_id.reply_to|safe}</field>
            <field name="subject">Reminder for ${object.event_id.name}</field>
            <field name="body_html"><![CDATA[
<meta charset="utf-8">
<div style="background:#F3F5F6;color:#515166;padding:25px 0px;font-family:Arial,Helvetica,sans-serif;font-size:14px;">
<t t-set="date_begin" t-value="format_tz(record.event_id.date_begin, tz='UTC', format='%Y%m%dT%H%M%SZ')"/>
<t t-set="date_end" t-value="format_tz(record.event_id.date_end, tz='UTC', format='%Y%m%dT%H%M%SZ')"/>
    <table style="width:600px;margin:5px auto;">
        <tbody>
            <tr>
                <td>
                    <a href="/">
                        <img src="/logo" t-att-alt="record.company_id.name" style="vertical-align:baseline;max-width:100px;" />
                    </a>
                </td>
                <td style="text-align:right;vertical-align:middle;">
                    <a t-if="'website_url' in record.event_id and record.event_id.website_url" href="/event" style="text-decoration:none;color:#717188;">More Events</a>
                </td>
            </tr>
        </tbody>
    </table>
    <table style="width:600px;margin:0px auto;background:white;border:1px solid #e1e1e1;">
        <tbody>
            <tr>
                <td style="padding:15px 20px 0px 20px;">
                    <h2 style="font-weight:300;">
                        Hi <t t-esc="record.name"/>,
                    </h2>
                    <p style="font-size:16px;">
                        Please keep in mind that the event
                        <a t-if="'website_url' in record.event_id and record.event_id.website_url" t-att-href="record.event_id.website_url" style="color:#875A7B;text-decoration:none;" t-esc="record.event_id.name"/>
                        <strong t-if="'website_url' not in record.event_id" t-esc="record.event_id.name"/>
                        takes place on
                        <strong t-esc="record.get_date_range_str()"/>
                    </p>
                </td>
            </tr>
            <tr>
                <td style="padding:15px 20px 0px 20px;">
                    <table style="width:100%;border-top:1px solid #e1e1e1;">
                        <tr>
                            <td style="padding:25px 0px;vertical-align:top;">
                                <img src="/web_editor/font_to_img/61505/rgb(81,81,102)/34" style="padding:4px;max-width:inherit;" height="34">
                            </td>
                            <td style="padding:30px 10px 25px 10px;width:50%;vertical-align:top;">
                                <t t-if="record.event_id.address_id.street">
                                    <p style="margin:0px 0px 0px 0px;" ><t t-esc="record.event_id.address_id.street"/>,</p>
                                    <t t-set="location" t-value="record.event_id.address_id.street"/>
                                </t>
                                <t t-if="record.event_id.address_id.street2">
                                    <p style="margin:0px 0px 0px 0px;"><t t-esc="record.event_id.address_id.street2"/>,</p>
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.street2)"/>
                                </t>
                                <t t-if="record.event_id.address_id.city">
                                    <t t-esc="record.event_id.address_id.city"/>,
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.city)"/>
                                </t>
                                <t t-if="record.event_id.address_id.state_id.name">
                                    <t t-esc="record.event_id.address_id.state_id.name"/>,
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.state_id.name)"/>
                                </t>
                                <t t-if="record.event_id.address_id.zip">
                                    <t t-esc="record.event_id.address_id.zip"/>,
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.zip)"/>
                                </t>
                                <t t-if="record.event_id.address_id.country_id.name">
                                    <p style="margin:0px 0px 0px 0px;" t-esc="record.event_id.address_id.country_id.name"/>
                                    <t t-set="location" t-value="'%s, %s' % (location, record.event_id.address_id.country_id.name)"/>
                                </t>
                            </td>
                            <td style="padding:25px 0px;vertical-align:top;">
                                <img src="/web_editor/font_to_img/61555/rgb(81,81,102)/34" style="padding:4px;max-width:inherit;" height="34">
                            </td>
                            <td style="padding:25px 10px 25px 10px;width:50%;line-height:20px;vertical-align:top;">
                                <div><strong>From</strong> <t t-esc="record.event_id.date_begin_located"/></div>
                                <div><strong>To</strong> <t t-esc="record.event_id.date_end_located"/></div>
                                <div style="font-size:12px;color:#9e9e9e"><i><strong>TZ</strong> <t t-esc="record.event_id.date_tz"/></i></div>
                            </td>
                        </tr>
                    </table>
                    <table t-if="record.event_id.organizer_id.email" style="width:100%;border-top:1px solid #e1e1e1;">
                        <tr>
                            <td style="padding:10px 0px 25px 0px;">
                                <h2 style="font-weight:300;margin:10px 0px">Questions about this event?</h2>
                                <div>Please contact the organizer at <a t-attf-href="mailto:#{record.event_id.organizer_id.email}" style="text-decoration:none;color:#875A7B;" t-esc="record.event_id.organizer_id.email"/></div>
                            </td>
                        </tr>
                    </table>
                    <table style="width:100%;border-top:1px solid #e1e1e1;">
                        <tr>
                            <td style="padding:25px 0px;">
                                <strong>Add this event to your calendar</strong>
                                <a t-attf-href="https://www.google.com/calendar/render?action=TEMPLATE&text=#{record.event_id.name}&dates=#{date_begin}/#{date_end}&location=#{location}" style="padding:3px 5px;border:1px solid #875A7B;color:#875A7B;text-decoration:none;border-radius:3px;" target="new"><img src="/web_editor/font_to_img/61525/rgb(135,90,123)/16" style="vertical-align:middle;" height="16"> Google</a>
                                <a t-attf-href="https://bay02.calendar.live.com/calendar/calendar.aspx?rru=addevent&summary=#{record.event_id.name}&dtstart=#{date_begin}&dtend=#{date_end}&location=#{location}" style="padding:3px 5px;border:1px solid #875A7B;color:#875A7B;text-decoration:none;border-radius:3px;" target="new"><img src="/web_editor/font_to_img/61525/rgb(135,90,123)/16" style="vertical-align:middle;" height="16"> Outlook</a>
                                <a t-attf-href="https://calendar.yahoo.com/?v=60&view=d&type=20&title=#{record.event_id.name}&in_loc=#{location}&st=#{format_tz(record.event_id.date_begin, tz='UTC', format='%Y%m%dT%H%M%S')}&et=#{format_tz(record.event_id.date_end, tz='UTC', format='%Y%m%dT%H%M%S')}" style="padding:3px 5px;border:1px solid #875A7B;color:#875A7B;text-decoration:none;border-radius:3px;" target="new"><img src="/web_editor/font_to_img/61525/rgb(135,90,123)/16" style="vertical-align:middle;" height="16"> Yahoo</a>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>
    <div style="width:598px;margin:0px auto;border-left:1px solid #dddddd;border-right:1px solid #dddddd;border-bottom:1px solid #dddddd;">
        <a t-attf-href="https://maps.google.com/maps?q=#{location}" target="new">
            <img t-attf-src="http://maps.googleapis.com/maps/api/staticmap?autoscale=1&size=598x100&maptype=roadmap&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xa5117d%7Clabel:%7C#{location}" style="vertical-align:bottom;" />
        </a>
    </div>
    <table style="width:600px;margin:0px auto;text-align:center;">
        <tbody>
            <tr>
                <td style="padding-top:10px;font-size: 12px;">
                    <div>This email was sent to <a t-attf-href="mailto:#{record.email}" style="text-decoration:none;color:#875A7B;" t-esc="record.email"/></div>
                    <p style="margin:0px 0px 9px 0px;padding-top:10px;">Copyright © <t t-esc="record.company_id.name"/></p>
                </td>
            </tr>
        </tbody>
    </table>
</div>
            ]]></field>
        </record>

    </data>
</odoo>
